
(function(){var t;t={keysDown:{},animate:function(t){return window.setTimeout(t,1e3/60)},init:function(t,n){var e;return this.setListeners(),this.canvas=document.createElement("canvas"),document.body.appendChild(this.canvas),this.canvas.width=this.canvasW=t,this.canvas.height=this.canvasH=n,this.ctx=null!=(e=this.canvas)?"function"==typeof e.getContext?e.getContext("2d"):void 0:void 0},clear:function(){return this.ctx.fillStyle="#000",this.ctx.fillRect(0,0,this.canvasW,this.canvasH)},setListeners:function(){var t=this;return window.addEventListener("keydown",function(n){return t.keysDown[n.keyCode]=!0}),window.addEventListener("keyup",function(n){return delete t.keysDown[n.keyCode]})}}}).call(this);
(function(){var t;t=function(){function t(t,i,h,s){this.x=t,this.y=i,this.width=h,this.height=s,this.x_speed=0,this.y_speed=0}return t.prototype.render=function(){return Engine.ctx.fillStyle="#fff",Engine.ctx.fillRect(this.x,this.y,this.width,this.height)},t.prototype.move=function(t,i){return this.x+=t,this.y+=i,this.x_speed=t,this.y_speed=i,this.y<0?(this.y=0,this.y_speed=0):this.y+this.height>Engine.canvasH?(this.y=Engine.canvasH-this.height,this.y_speed=0):void 0},t}()}).call(this);
(function(){var t,r,o={}.hasOwnProperty,n=function(t,r){function n(){this.constructor=t}for(var e in r)o.call(r,e)&&(t[e]=r[e]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t};t=function(t){function o(){return r=o.__super__.constructor.apply(this,arguments)}return n(o,t),o.prototype.update=function(){var t,r,o;o=[];for(t in Engine.keysDown)r=Number(t),38===r?o.push(this.move(0,-4)):40===r?o.push(this.move(0,4)):o.push(this.move(0,0));return o},o}(Paddle)}).call(this);
(function(){var t,r,o={}.hasOwnProperty,n=function(t,r){function n(){this.constructor=t}for(var e in r)o.call(r,e)&&(t[e]=r[e]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t};t=function(t){function o(){return r=o.__super__.constructor.apply(this,arguments)}return n(o,t),o.prototype.update=function(t){var r,o;return o=t.y,r=-(this.y+this.height/2-(o+t.height/2)),0>r&&-10>r?r=-10:r>0&&r>10&&(r=10),this.move(0,r)},o}(Paddle)}).call(this);
(function(){var t;t=function(){function t(t,i,s,h){this.x=t,this.y=i,this.width=s,this.height=h,this.x_speed=3,this.y_speed=0}return t.prototype.render=function(){return Engine.ctx.fillStyle="#fff",Engine.ctx.fillRect(this.x,this.y,this.width,this.height)},t.prototype.update=function(t,i){return this.x+=this.x_speed,this.y+=this.y_speed,this.y<0&&(this.y_speed*=-1),this.y+this.height>Engine.canvasH&&(this.y_speed*=-1),this.x<=t.x+t.width&&this.x>t.x&&this.y>=t.y&&this.y<t.y+t.height&&(this.x_speed*=-1,this.y_speed+=t.y_speed/2),this.x+this.width>Engine.canvasW&&this.reset(),this.x+this.width>i.x&&this.x+this.width<i.x+i.width&&this.y>=i.y&&this.y<i.y+i.height&&(this.x_speed*=-1,this.y_speed+=i.y_speed/2),this.x<0?this.reset():void 0},t.prototype.reset=function(){return this.x_speed=3,this.y_speed=0,this.x=Engine.canvasW/2,this.y=Engine.canvasH/2},t}()}).call(this);
(function(){var t;t={gameW:600,gameH:400,init:function(){var e,i;return i=20,e=100,Engine.init(this.gameW,this.gameH),this.ball=new Ball(this.gameW/2-i/2,this.gameH/2-i/2,i,i),this.player=new Player(20,this.gameH/2-e/2,i,e),this.cpu=new CPU(560,this.gameH/2-e/2,i,e),t.loop()},update:function(){return this.player.update(),this.cpu.update(this.ball),this.ball.update(this.player,this.cpu)},draw:function(){return Engine.clear(),this.drawNet(),this.player.render(),this.cpu.render(),this.ball.render()},drawNet:function(){var t,e;for(t=-15,e=[];t<this.gameH;)Engine.ctx.fillStyle="#fff",Engine.ctx.fillRect(this.gameW/2-5,t,10,30),e.push(t+=40);return e},loop:function(){return t.update(),t.draw(),Engine.animate(t.loop)}},t.init()}).call(this);